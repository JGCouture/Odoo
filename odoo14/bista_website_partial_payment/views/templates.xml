<odoo>
    <data>

        <template id="assets_frontend" inherit_id="web.assets_frontend">
            <xpath expr="//script[last()]" position="after">
                <script type="text/javascript" src="bista_website_partial_payment/static/src/js/payment_form.js"></script>
            </xpath>
        </template>

        <template id="portal_sale_advance_payment"
        name="Portal layout : Advance Payment"
        inherit_id="sale.sale_order_portal_template">
            <xpath
                expr="//div[@id='payment_method']/t[@t-call='payment.payment_tokens_list']"
                position="inside">
                <t t-set="is_advance_amount" t-value="sale_order.is_advance_amount"/>
                <t t-set="advance_amount_pay" t-value="sale_order.advance_amount_pay"/>
            </xpath>
        </template>

        <template id="payment_tokens_list_advance" inherit_id="payment.payment_tokens_list">
           <xpath expr="//div[hasclass('card')]" position="before">
                <input type="hidden"  name="is_advance_amount" t-att-value="is_advance_amount"/>
                <input  type="hidden" name="advance_amount_pay" t-att-value="advance_amount_pay"/>
                <div t-if="is_advance_amount"  style="padding-bottom: 14px;">
                    <span>Advance Payment : </span><input type="number"
                                                    id="advance_payment"
                                                    name="advance_payment"
                                                    t-att-min="advance_amount_pay"
                                                    t-att-value="advance_amount_pay"
                                                    />
                </div>
            </xpath>
            <xpath expr="//form" position="attributes">
                <attribute name="t-att-data-advance-payment">is_advance_amount</attribute>
                <attribute name="t-att-data-advance-payment-pay">advance_amount_pay</attribute>
            </xpath>
        </template>
    </data>
</odoo>